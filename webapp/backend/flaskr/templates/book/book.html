{% extends 'base.html' %}

{% block content %}
<div class="jumbotron" style="padding-top:3em;">

  <div id='book-metadata'>
    {% if book is not none %}
      <div class='row'>

        <div class='col-2 align-middle text-center' style='margin-left: 5%; max-width: 30%;'>

          <div class='card align-middle' style='margin-bottom: 3em;'>
            <img style='height:500px;' class='img-thumbnail' src="{{ book['cover'] }}" alt="{{ book['title'] }} - Book Cover">
            <div class='card-body'>
              <h3 class='card-title'>{{ book['title'] }}</h3>
              <p class='card-text'>{{ book['author'] }}</p>
            </div>
          </div>

          <div class='card align-middle' style=''>
            <div class='card-body'>
              <h3 class='card-title'>Similar books</h3>

              <div id='book-similar-books'>
                <div id='similarBooksCarouselIndicators' class='carousel slide' data-ride='carousel'>
                  <ol class='carousel-indicators'>
                    <li data-target='#similarBooksCarouselIndicators' data-slide-to='0' class='active'></li>
                    <li data-target='#similarBooksCarouselIndicators' data-slide-to='1'></li>
                    <li data-target='#similarBooksCarouselIndicators' data-slide-to='2'></li>
                  </ol>
                  <div class='carousel-inner'>
                    <div class='carousel-item active'>
                      <a href='/book/2'>
                        <!-- Templatize after data is scraped -->
                        <img src='https://images.gr-assets.com/books/1265814659l/7716140.jpg' class='d-block'>
                      </a>
                    </div>
                    <div class='carousel-item'>
                      <a href='/book/3'>
                        <!-- Templatize after data is scraped -->
                        <img src='https://images.gr-assets.com/books/1528312647l/8908.jpg' class='d-block'>
                      </a>
                    </div>
                    <div class='carousel-item'>
                      <a href='/book/4'> <!-- Templatize after data is scraped -->
                        <img src='https://images.gr-assets.com/books/1550929007l/44095135.jpg' class='d-block'>
                      </a>
                    </div>
                  </div>
                  <a class="carousel-control-prev" href="#similarBooksCarouselIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#similarBooksCarouselIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
              </div>

            </div>
          </div>


        </div>

        <div class='col-xl' style='margin-left: 3%; margin-right: 5%;'>

          <div class='container-fluid' id='book-rating' style='margin-bottom: 5%;'>
            <div class='card'>
              <h5 class='card-header'>Rating</h5>
              <div class='card-body text-center'>

                <p class='card-text lead'>
                  BookBrain Averaged Internet Rating: {{ book['average_review'] }}
                </p>

                <p class='card-text'>
                  This rating is based on a weighted sum of ratings and reviews pulled from multiple other websites and sources.
                </p>

              </div>
            </div>
          </div>

          <div class='container-fluid' id='book-critic-review' style='margin-bottom: 5%;'>
            <div class='card'>
              <h5 class='card-header'>Critic Review</h5>
              <div class='card-body'>
                <p class='card-text'>
                  <!-- Templatize after data is scraped -->
                  I was shocked by how good this book was! I would recommend it to anyone who likes zombie stories. It was humorous as well, which is always a plus.
                </p>
              </div>
            </div>
          </div>

          <div class='container-fluid' id='book-audience-review' style='margin-bottom: 5%;'>
            <div class='card'>
              <h5 class='card-header'>Audience Review</h5>
              <div class='card-body'>

                <p class='card-text'>
                  Written by {{ review['review_content'] }} <br>
                  <!-- Templatize after data is scraped -->
                  {{ review['review_content'] }}
                </p>
              </div>
            </div>
          </div>


          <div id='book-description' class='container-fluid' style='margin-bottom: 5%;'>
            <h3>Description</h3>
            <hr class='align-middle'>

            <div class='card'>
              <div class='card-body'>
                <p class='card-text'>
                  <!-- Templatize after data is scraped -->
                  {{ book['description'] }}
                </p>
              </div>
            </div>
          </div>

          <div id='book-details' class='container-fluid' style='margin-bottom: 5%;'>
            <h3>Details</h3>
            <hr class='align-middle'>

            <div class='card'>
              <div class='card-body'>
                <p class='card-text'>
                  <!-- Templatize after data is scraped -->
                  {{ book['details'] }}
                </p>
              </div>
            </div>
          </div>

          <div id='book-purchase-links' class='container-fluid'>
            <h3>Links to purchase</h3>
            <hr class='align-middle'>
            <div class='card'>
              <div class='card-body'>
                <!-- Templatize after data is scraped -->
		<!--<a class="btn btn-outline-secondary" href="{{ book['purchase_link'] }}" style="background-color:#B1EDE8">Buy</a>-->
		<a href="{{ book['purchase_link'] }}">
		  <img style='max-width: 20%; height: auto;' src='/static/amazon-purchase.jpg' alt='Buy it on Amazon!'>
		</a>
              </div>
            </div>
          </div>
      </div>
    {% else %}
      <div class='justify-content-center text-center'>
        <div style='padding: 5%;'>
          <p> Sorry, but BookBrain is still undergoing development, and we do not currently have this book listed. </p>
        </div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
